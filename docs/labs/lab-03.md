# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ 3. Real-time —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —Ñ—ñ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è backend

## üéØ –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

–ó–¥–æ–±—É—Ç–∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è real-time –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó —É –≤–µ–±–¥–æ–¥–∞—Ç–∫–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º WebSocket —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó, –Ω–∞–≤—á–∏—Ç–∏—Å—è –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö, –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏ —ó—Ö –Ω–∞ production —Ö–æ—Å—Ç–∏–Ω–≥—É.

## ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è

### –í–∏–±—ñ—Ä —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –¥–ª—è real-time –æ–Ω–æ–≤–ª–µ–Ω—å

–ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥  –ø—Ä–µ–¥–º–µ—Ç–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏, —è–∫—ñ —Å–∞–º–µ —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ—Ç—Ä–µ–±—É—é—Ç—å real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

- **–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏:** –º–∏—Ç—Ç—î–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∑–∞–≤–¥–∞–Ω—å, —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ, –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤;
- **–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω:** —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∑–º—ñ–Ω—É —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –æ–Ω–ª–∞–π–Ω-—á–∞—Ç –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–æ–≤–∞—Ä—É –Ω–∞ —Å–∫–ª–∞–¥—ñ;
- **–ë–ª–æ–≥-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** –º–∏—Ç—Ç—î–≤–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤, –ª–∞–π–∫—ñ–≤, —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—ñ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≤—ñ–¥ –∞–≤—Ç–æ—Ä—ñ–≤;
- **–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è:** real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Ä–µ—Å—É—Ä—Å—ñ–≤, —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è;
- **–û—Å–≤—ñ—Ç–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** –º–∏—Ç—Ç—î–≤—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—ñ –∑–∞–≤–¥–∞–Ω–Ω—è, –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤, live –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É;
- **–°–æ—Ü—ñ–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞:** –º–∏—Ç—Ç—î–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—ñ –ø–æ—Å—Ç–∏, –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å –¥—Ä—É–∑—ñ–≤;
- **–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ–¥—ñ—è–º–∏:** real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ–π, —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∑–º—ñ–Ω–∏ –≤ —Ä–æ–∑–∫–ª–∞–¥—ñ.

### –†—ñ–≤–µ–Ω—å 1

1. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ Socket.io –¥–æ —ñ—Å–Ω—É—é—á–æ–≥–æ Express.js –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤–µ WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º—ñ–∂ —Å–µ—Ä–≤–µ—Ä–æ–º —Ç–∞ –∫–ª—ñ—î–Ω—Ç–æ–º.
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∫—ñ–º–Ω–∞—Ç (rooms) –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
4. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è –æ–¥–Ω—ñ—î—ó –æ—Å–Ω–æ–≤–Ω–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ.
5. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤—É —Å–∏—Å—Ç–µ–º—É —Å–ø–æ–≤—ñ—â–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
6. –ü—Ä–æ–≤–µ—Å—Ç–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –Ω–∞–π–ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
7. –ó–∞–¥–µ–ø–ª–æ—ó—Ç–∏ backend –Ω–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —Ö–æ—Å—Ç–∏–Ω–≥.

### –†—ñ–≤–µ–Ω—å 2

1. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é WebSocket –∑'—î–¥–Ω–∞–Ω—å —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω–∏.
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —Å–ø–æ–≤—ñ—â–µ–Ω—å –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ —Ç–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏.
3. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π –ø—Ä–æ—î–∫—Ç—É.
4. –î–æ–¥–∞—Ç–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
5. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º reconnection –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è.
6. –ü—Ä–æ–≤–µ—Å—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –∑–∞–ø–∏—Ç—ñ–≤ —á–µ—Ä–µ–∑ —ñ–Ω–¥–µ–∫—Å—É–≤–∞–Ω–Ω—è, eager loading —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è.

### –†—ñ–≤–µ–Ω—å 3

1. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è WebSocket –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Redis adapter.
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É rate limiting –¥–ª—è WebSocket –ø–æ–¥—ñ–π.
3. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–≥ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ñ–æ–Ω–æ–≤–∏—Ö –∑–∞–¥–∞—á.
4. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ advanced –∫–µ—à—É–≤–∞–Ω–Ω—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Redis.
5. –î–æ–¥–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É metrics —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.
6. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥—É.
7. –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é WebSocket API.

## üìö –¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ

### WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª

**WebSocket** —î –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π–Ω–∏–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º, —è–∫–∏–π –∑–∞–±–µ–∑–ø–µ—á—É—î full-duplex (–¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π) –∫–∞–Ω–∞–ª –∑–≤'—è–∑–∫—É —á–µ—Ä–µ–∑ –æ–¥–Ω–µ TCP –∑'—î–¥–Ω–∞–Ω–Ω—è. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ HTTP, –¥–µ –∫–ª—ñ—î–Ω—Ç –∑–∞–≤–∂–¥–∏ —ñ–Ω—ñ—Ü—ñ—é—î –∑–∞–ø–∏—Ç, WebSocket –¥–æ–∑–≤–æ–ª—è—î —Å–µ—Ä–≤–µ—Ä—É –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –¥–∞–Ω—ñ –∫–ª—ñ—î–Ω—Ç—É –≤ –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç –±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞–ø–∏—Ç—É.

**–û—Å–Ω–æ–≤–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ WebSocket:**

- –ù–∏–∑—å–∫–∞ –ª–∞—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —Ç–∞ —Å–µ—Ä–≤–µ—Ä–æ–º;
- –ó–º–µ–Ω—à–µ–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –º–µ—Ä–µ–∂—É –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ polling –º–µ—Ç–æ–¥–∞–º–∏;
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–≥–æ –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ;
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ —Å–µ—Ä–≤–µ—Ä–∞.

**–ü—Ä–æ—Ü–µ—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è:**

1. –ö–ª—ñ—î–Ω—Ç –Ω–∞–¥—Å–∏–ª–∞—î HTTP –∑–∞–ø–∏—Ç –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Upgrade: websocket`;
2. –°–µ—Ä–≤–µ—Ä –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î upgrade —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∞—Ç—É—Å 101 Switching Protocols;
3. –ó'—î–¥–Ω–∞–Ω–Ω—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤—ñ–¥ HTTP –¥–æ WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª—É;
4. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è persistent –∑'—î–¥–Ω–∞–Ω–Ω—è –¥–ª—è –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–≥–æ –æ–±–º—ñ–Ω—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏.

### Socket.io –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞

**Socket.io** —î JavaScript –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é –¥–ª—è real-time, –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –º—ñ–∂ –≤–µ–±–±—Ä–∞—É–∑–µ—Ä–∞–º–∏ —Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞–º–∏. –í–æ–Ω–∞ –Ω–∞–¥–±—É–¥–æ–≤—É—î—Ç—å—Å—è –Ω–∞–¥ WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º, –¥–æ–¥–∞—é—á–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ.

**–ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ Socket.io:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π fallback –¥–æ HTTP long-polling —è–∫—â–æ WebSocket –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π;
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ reconnection –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è;
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ broadcasting –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º–Ω–æ–∂–∏–Ω—ñ –∫–ª—ñ—î–Ω—Ç—ñ–≤;
- –°–∏—Å—Ç–µ–º–∞ rooms —Ç–∞ namespaces –¥–ª—è –ª–æ–≥—ñ—á–Ω–æ–≥–æ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω—å;
- –í–±—É–¥–æ–≤–∞–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –±—ñ–Ω–∞—Ä–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

**–ö–æ–Ω—Ü–µ–ø—Ü—ñ—ó Socket.io:**

- **Events (–ø–æ–¥—ñ—ó):** —ñ–º–µ–Ω–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —è–∫—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —Ç–∞ —Å–µ—Ä–≤–µ—Ä–æ–º;
- **Rooms (–∫—ñ–º–Ω–∞—Ç–∏):** –¥–æ–≤—ñ–ª—å–Ω—ñ –∫–∞–Ω–∞–ª–∏, –¥–æ —è–∫–∏—Ö –º–æ–∂–Ω–∞ –ø—Ä–∏—î–¥–Ω—É–≤–∞—Ç–∏ sockets –¥–ª—è –≥—Ä—É–ø–æ–≤–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó;
- **Namespaces (–ø—Ä–æ—Å—Ç–æ—Ä–∏ —ñ–º–µ–Ω):** –æ–∫—Ä–µ–º—ñ endpoints –¥–ª—è –ª–æ–≥—ñ—á–Ω–æ–≥–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ;
- **Acknowledgements:** callback —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å.

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

**–Ü–Ω–¥–µ–∫—Å—É–≤–∞–Ω–Ω—è** —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –Ü–Ω–¥–µ–∫—Å–∏ –ø—Ä–∏—Å–∫–æ—Ä—é—é—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—ó —á–∏—Ç–∞–Ω–Ω—è, —Å—Ç–≤–æ—Ä—é—é—á–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –∑–∞–ø–∏—Å–∏.

**–¢–∏–ø–∏ —ñ–Ω–¥–µ–∫—Å—ñ–≤ —É PostgreSQL:**

- **B-tree —ñ–Ω–¥–µ–∫—Å–∏:** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏, –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è;
- **Hash —ñ–Ω–¥–µ–∫—Å–∏:** –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π —Ä—ñ–≤–Ω–æ—Å—Ç—ñ;
- **GiST —Ç–∞ GIN —ñ–Ω–¥–µ–∫—Å–∏:** –¥–ª—è –ø–æ–≤–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ—à—É–∫—É —Ç–∞ —Å–∫–ª–∞–¥–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö;
- **Composite —ñ–Ω–¥–µ–∫—Å–∏:** —ñ–Ω–¥–µ–∫—Å–∏ –ø–æ –º–Ω–æ–∂–∏–Ω—ñ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤.

**N+1 –ø—Ä–æ–±–ª–µ–º–∞** –≤–∏–Ω–∏–∫–∞—î –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –≤–∏–∫–æ–Ω—É—î –æ–¥–∏–Ω –∑–∞–ø–∏—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –∑–∞–ø–∏—Å—ñ–≤, –∞ –ø–æ—Ç—ñ–º N –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –∑–Ω–∞—á–Ω–æ–≥–æ —É–ø–æ–≤—ñ–ª—å–Ω–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏.

**–†—ñ—à–µ–Ω–Ω—è N+1 –ø—Ä–æ–±–ª–µ–º–∏:**

- **Eager Loading:** –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö —Ä–∞–∑–æ–º –∑ –æ—Å–Ω–æ–≤–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º;
- **DataLoader pattern:** –±–∞—Ç—á–∏–Ω–≥ —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤;
- **Join –æ–ø–µ—Ä–∞—Ü—ñ—ó:** –æ–±'—î–¥–Ω–∞–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å –Ω–∞ —Ä—ñ–≤–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.

**–ö–µ—à—É–≤–∞–Ω–Ω—è** –∑–º–µ–Ω—à—É—î –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±–∞–∑—É –¥–∞–Ω–∏—Ö, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –¥–∞–Ω—ñ –≤ –ø–∞–º'—è—Ç—ñ. Redis —î –ø–æ–ø—É–ª—è—Ä–Ω–∏–º in-memory —Å—Ö–æ–≤–∏—â–µ–º –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è –≤ –≤–µ–±–¥–æ–¥–∞—Ç–∫–∞—Ö.

### –î–µ–ø–ª–æ–π —Ç–∞ —Ö–æ—Å—Ç–∏–Ω–≥

**Platform as a Service (PaaS)** —Ä—ñ—à–µ–Ω–Ω—è –Ω–∞–¥–∞—é—Ç—å –≥–æ—Ç–æ–≤—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤. –ü–æ–ø—É–ª—è—Ä–Ω—ñ PaaS –¥–ª—è Node.js –¥–æ–¥–∞—Ç–∫—ñ–≤ –≤–∫–ª—é—á–∞—é—Ç—å Render, Railway, Fly.io —Ç–∞ Heroku.

**–û—Å–Ω–æ–≤–Ω—ñ –∫—Ä–æ–∫–∏ –¥–µ–ø–ª–æ—é:**

1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–¥–∞—Ç–∫—É –¥–æ production —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞;
2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥—É;
3. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ production –±–∞–∑–∏ –¥–∞–Ω–∏—Ö;
4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è domain —Ç–∞ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤;
5. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.


## üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Socket.io –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](https://socket.io/docs/v4/)
- [Prisma –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ](https://www.prisma.io/docs/guides/performance-and-optimization)
- [Render –¥–µ–ø–ª–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞](https://render.com/docs)
- [WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è](https://datatracker.ietf.org/doc/html/rfc6455)
- [PostgreSQL —ñ–Ω–¥–µ–∫—Å—É–≤–∞–Ω–Ω—è](https://www.postgresql.org/docs/current/indexes.html)

## ‚ñ∂Ô∏è –•—ñ–¥ —Ä–æ–±–æ—Ç–∏

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Socket.io

1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Socket.io –ø–∞–∫–µ—Ç–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Ç–∞ –∫–ª—ñ—î–Ω—Ç–∞.

```bash
npm install socket.io
npm install socket.io-client  # –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```

2. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ Socket.io —É Express.js –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫, —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª `src/socket/index.js`.
3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ CORS –¥–ª—è Socket.io –∑'—î–¥–Ω–∞–Ω—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ frontend origin.
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –æ–±—Ä–æ–±–∫–∏ Socket.io –ø–æ–¥—ñ–π –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º event handlers.
5. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é WebSocket –∑'—î–¥–Ω–∞–Ω—å —á–µ—Ä–µ–∑ middleware, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î JWT —Ç–æ–∫–µ–Ω–∏.
6. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É rooms –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ –ª–æ–≥—ñ–∫–æ—é –ø—Ä–µ–¥–º–µ—Ç–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ.

### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è real-time —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

1. –í–∏–∑–Ω–∞—á–∏—Ç–∏ —è–∫—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–æ—Ç—Ä–µ–±—É—é—Ç—å real-time –æ–Ω–æ–≤–ª–µ–Ω—å —É –≤–∞—à—ñ–π –ø—Ä–µ–¥–º–µ—Ç–Ω—ñ–π –æ–±–ª–∞—Å—Ç—ñ.
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ event handlers –¥–ª—è –æ—Å–Ω–æ–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –¥–∞–Ω–∏–º–∏, —è–∫—ñ –±—É–¥—É—Ç—å —Ç—Ä–∞–Ω—Å–ª—é–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏ —á–µ—Ä–µ–∑ WebSocket.
3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ broadcasting –æ–Ω–æ–≤–ª–µ–Ω—å –≤—Å—ñ–º –∫–ª—ñ—î–Ω—Ç–∞–º —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ–π room –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–∞–Ω–∏—Ö.
4. –î–æ–¥–∞—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –¥–ª—è WebSocket –ø–æ–¥—ñ–π –∑ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é error events –∫–ª—ñ—î–Ω—Ç—É.
5. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è–º –ø—ñ–¥–∫–ª—é—á–µ–Ω—å —Ç–∞ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å.
6. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó real-time –ø–æ–¥—ñ–π –¥–ª—è –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–∏ reconnect.

### –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å

1. –°–ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ –º–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö –¥–ª—è —Å—Ö–æ–≤–∏—â–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ API endpoints –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è, –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–æ—á–∏—Ç–∞–Ω–∏–º–∏ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å.
3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–µ—Ä–≤—ñ—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–∏ –≤–∞–∂–ª–∏–≤–∏—Ö –ø–æ–¥—ñ—è—Ö —É —Å–∏—Å—Ç–µ–º—ñ.
4. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ real-time –¥–æ—Å—Ç–∞–≤–∫—É —Å–ø–æ–≤—ñ—â–µ–Ω—å —á–µ—Ä–µ–∑ WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.
5. –î–æ–¥–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤ —Ç–∞ —Ç–∏–ø—ñ–≤ —Å–ø–æ–≤—ñ—â–µ–Ω—å –¥–ª—è –∫—Ä–∞—â–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó.
6. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º batch –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

1. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Prisma Studio –∞–±–æ pgAdmin –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–æ–≤—ñ–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —á–µ—Ä–µ–∑ EXPLAIN ANALYZE.
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫, —è–∫—ñ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —É WHERE, JOIN —Ç–∞ ORDER BY –∫–ª–∞—É–∑–∞—Ö.
3. –í–∏—è–≤–∏—Ç–∏ —Ç–∞ —É—Å—É–Ω—É—Ç–∏ N+1 –ø—Ä–æ–±–ª–µ–º–∏ —á–µ—Ä–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è include —Ç–∞ select –≤ Prisma –∑–∞–ø–∏—Ç–∞—Ö.
4. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é –¥–ª—è –≤—Å—ñ—Ö endpoints, —è–∫—ñ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å —Å–ø–∏—Å–∫–∏ –¥–∞–Ω–∏—Ö.
5. –î–æ–¥–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –¥–∞–Ω–∏—Ö, —è–∫—ñ —Ä—ñ–¥–∫–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ in-memory cache –∞–±–æ Redis.
6. –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏ —á–µ—Ä–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è database views –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è raw SQL.

### –î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

1. –û–±—Ä–∞—Ç–∏ —Ö–æ—Å—Ç–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ tier —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ Node.js –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.
2. –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–æ production —á–µ—Ä–µ–∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è environment variables —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é.
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ production –±–∞–∑—É –¥–∞–Ω–∏—Ö –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ –∞–±–æ –æ–∫—Ä–µ–º–æ–º—É database provider.
4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ build scripts —Ç–∞ start –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è production —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.
5. –ó–∞–¥–µ–ø–ª–æ—ó—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ database migrations –Ω–∞ production –±–∞–∑—ñ.
6. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤—Å—ñ—Ö endpoints —Ç–∞ WebSocket –∑'—î–¥–Ω–∞–Ω—å –Ω–∞ production —Å–µ—Ä–≤–µ—Ä—ñ.
7. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
8. –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –∑ production URL —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ API.

### –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

1. –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–≤–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—å–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É backend –Ω–∞ production —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É real-time –æ–Ω–æ–≤–ª–µ–Ω—å –∑ –º–Ω–æ–∂–∏–Ω–æ—é –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤.
3. –û–Ω–æ–≤–∏—Ç–∏ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ WebSocket events —Ç–∞ endpoints.
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ README –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É —Ç–∞ –¥–µ–ø–ª–æ—é –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.
5. –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç –ø—Ä–æ –≤–∏–∫–æ–Ω–∞–Ω—É —Ä–æ–±–æ—Ç—É –∑ –æ–ø–∏—Å–æ–º —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É.

[:fontawesome-solid-cloud-upload: –ó–¥–∞—Ç–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—É —Ä–æ–±–æ—Ç—É](http://194.187.154.85/moodle/course/view.php?id=17#section-2){ .md-button .md-button--primary }


## üìù –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è

### –°–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å (–æ—Ü—ñ–Ω–∫–∞ "–∑–∞–¥–æ–≤—ñ–ª—å–Ω–æ")

- –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –±–∞–∑–æ–≤–µ WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑ Socket.io;
- –ü—Ä–∞—Ü—é—î real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è –æ–¥–Ω—ñ—î—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ;
- –°—Ç–≤–æ—Ä–µ–Ω–æ –ø—Ä–æ—Å—Ç—É —Å–∏—Å—Ç–µ–º—É —Å–ø–æ–≤—ñ—â–µ–Ω—å;
- –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –ë–î;
- –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑–∞–¥–µ–ø–ª–æ—î–Ω–æ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ —Ç–∞ –ø—Ä–∞—Ü—é—î;
- –Ñ –±–∞–∑–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API;
- –ö–æ–¥ –º–∞—î –∑–Ω–∞—á–Ω—ñ –Ω–µ–¥–æ–ª—ñ–∫–∏ –≤ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –æ–±—Ä–æ–±—Ü—ñ –ø–æ–º–∏–ª–æ–∫.

### –î–æ—Å—Ç–∞—Ç–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å (–æ—Ü—ñ–Ω–∫–∞ "–¥–æ–±—Ä–µ")

- –í–∏–∫–æ–Ω–∞–Ω–æ –≤—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è —Ä—ñ–≤–Ω—è 1.
- WebSocket –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ —Å–∏—Å—Ç–µ–º–∞ rooms –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ;
- Real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ —Å—É—Ç–Ω–æ—Å—Ç–µ–π;
- –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è–º —É –ë–î;
- –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑ —ñ–Ω–¥–µ–∫—Å—É–≤–∞–Ω–Ω—è–º —Ç–∞ —É—Å—É–Ω–µ–Ω–Ω—è–º N+1;
- –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –≤–∫–ª—é—á–∞—é—á–∏ WebSocket events;
- –ö–æ–¥ –¥–æ–±—Ä–µ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∏–π –∑ –Ω–µ–∑–Ω–∞—á–Ω–∏–º–∏ –Ω–µ–¥–æ–ª—ñ–∫–∞–º–∏.

### –í–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å (–æ—Ü—ñ–Ω–∫–∞ "–≤—ñ–¥–º—ñ–Ω–Ω–æ")

- –í–∏–∫–æ–Ω–∞–Ω–æ –≤—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è —Ä—ñ–≤–Ω—ñ–≤ 1 —Ç–∞ 2.
- –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ WebSocket –º–æ–¥—É–ª—è –∑ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–º –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è–º;
- –†–æ–∑—à–∏—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å –∑ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —Ç–∞ batch –æ–±—Ä–æ–±–∫–æ—é;
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º, connection pooling —Ç–∞ query optimization;
- –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥, –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ metrics;
- –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≥–æ—Ç–æ–≤–∏–π –¥–æ production –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è;
- –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –≤–∫–ª—é—á–∞—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è;
- –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–π –∑–∞ –Ω–∞–π–∫—Ä–∞—â–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏ –∑ —á–∏—Å—Ç–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é.

## ‚è∞ –ü–æ–ª—ñ—Ç–∏–∫–∞ —â–æ–¥–æ –¥–µ–¥–ª–∞–π–Ω—ñ–≤

–ü—Ä–∏ –ø–æ—Ä—É—à–µ–Ω–Ω—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ–≥–æ —Ç–µ—Ä–º—ñ–Ω—É –∑–¥–∞—á—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –º–æ–∂–ª–∏–≤–∞ –æ—Ü—ñ–Ω–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å "–¥–æ–±—Ä–µ", –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —è–∫–æ—Å—Ç—ñ –≤–∏–∫–æ–Ω–∞–Ω–æ—ó —Ä–æ–±–æ—Ç–∏. –í–∏–Ω—è—Ç–∫–∏ –º–æ–∂–ª–∏–≤—ñ –ª–∏—à–µ –∑–∞ –ø–æ–≤–∞–∂–Ω–∏—Ö –ø—Ä–∏—á–∏–Ω, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ.

## ‚ùì –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è

1. –ü–æ—è—Å–Ω—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é. –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥–∏ –∑ –≤–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É.
2. –©–æ —Ç–∞–∫–µ JWT —Ç–æ–∫–µ–Ω —ñ –∑ —è–∫–∏—Ö —á–∞—Å—Ç–∏–Ω –≤—ñ–Ω —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è? –ß–æ–º—É JWT —î –ø–æ–ø—É–ª—è—Ä–Ω–∏–º –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤ API?
3. –Ø–∫ –ø—Ä–∞—Ü—é—î bcrypt —ñ —á–æ–º—É –≤—ñ–Ω —î –±–µ–∑–ø–µ—á–Ω–∏–º –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤? –©–æ —Ç–∞–∫–µ salt —ñ –Ω–∞–≤—ñ—â–æ –≤—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω?
4. –ü–æ—è—Å–Ω—ñ—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏ middleware –≤ Express.js. –Ø–∫ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ middleware –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó?
5. –©–æ —Ç–∞–∫–µ RBAC (Role-Based Access Control) —ñ —è–∫ –≤–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É —Ä–æ–ª–µ–π —É —Å–≤–æ—î–º—É –ø—Ä–æ—î–∫—Ç—ñ?
6. –Ø–∫ –ø—Ä–∞—Ü—é—î Multer –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤? –Ø–∫—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–ª–∏?
7. –ü–æ—è—Å–Ω—ñ—Ç—å, —è–∫ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é –≤ –≤–∞—à–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ. –Ø–∫—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è?
8. –©–æ —Ç–∞–∫–µ Swagger —ñ –¥–ª—è —á–æ–≥–æ –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è? –Ø–∫—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó API?
9. –Ø–∫—ñ –æ—Å–Ω–æ–≤–Ω—ñ –∑–∞–≥—Ä–æ–∑–∏ –±–µ–∑–ø–µ–∫–∏ —ñ—Å–Ω—É—é—Ç—å –¥–ª—è –≤–µ–±–¥–æ–¥–∞—Ç–∫—ñ–≤? –Ø–∫ –≤–∏ —ó—Ö –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞–ª–∏ –≤ —Å–≤–æ—î–º—É –ø—Ä–æ—î–∫—Ç—ñ?
10. –ü–æ—è—Å–Ω—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ access —Ç–æ–∫–µ–Ω–æ–º —Ç–∞ refresh —Ç–æ–∫–µ–Ω–æ–º. –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–≤–∞ —Ç–∏–ø–∏ —Ç–æ–∫–µ–Ω—ñ–≤?
